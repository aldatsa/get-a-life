<!doctype>

<html>
    <head>
        <meta charset="utf-8">
        <title>Get a life</title>
    </head>
    <body>
        <canvas id="canvas" width="800" height="800"></canvas>
        <script type="text/javascript" src="js/CellularAutomaton.js"></script>
        <script type="text/javascript">
            window.onload = function() {

                var canvas = document.getElementById("canvas");

                var ctx = canvas.getContext("2d");

                // http://www.conwaylife.com/wiki/Rulestring#Rules

                //            0      1      2     3      4      5      6      7      8
                var born = [false, false, false, true, false, false, false, false, false];

                //               0      1      2    3      4      5      6      7      8
                var survive = [false, false, true, true, false, false, false, false, false];

                var width = 600;
                var height = 600;
                var probability = 0.1;

                var cellular_automaton = new CellularAutomaton({
                    rules: {
                        born: born,
                        survive: survive
                    },
                    colors: ["#ffffff", "#000000"],
                    width: width,
                    height: height,
                    probability: probability
                });

                //cellular_automaton.drawRandomValues(ctx);
                cellular_automaton.initialize(ctx, "f-pentomino");

                cellular_automaton.draw(ctx, 0);

                setInterval(function() {
                    cellular_automaton.drawNextStep(ctx);
                }, 1000);
            };
        </script>
    </body>
</html>
